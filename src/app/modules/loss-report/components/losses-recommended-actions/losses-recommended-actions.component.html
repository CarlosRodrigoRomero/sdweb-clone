<mat-card>
  <mat-card-header>
    <mat-card-title>{{ 'Acciones recomendadas' | translate }}</mat-card-title>
    <mat-card-subtitle>
      <p>
        El <b>{{ fixableLossesPercentage * 100 | number : '1.0-2' }}% de las pérdidas</b> está compuesto por anomalías
        que son <b>reparables</b>. El otro
        <b>{{ (1 - fixableLossesPercentage) * 100 | number : '1.0-2' }}%</b> requieren sustituir el módulo pudiendo
        <b>reclamar garantía del fabricante</b> de ser posible.
      </p>
      <p>Selecciona las que quieras y elige si verlas en el mapa o compartirlas para su revisión en planta.</p>
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content class="card-content">
    <mat-accordion>
      <mat-expansion-panel expanded="true">
        <mat-expansion-panel-header>
          <mat-panel-title> {{ 'Anomalías reparables' | translate }} </mat-panel-title>
          <mat-panel-description>{{ 38 }}</mat-panel-description>
        </mat-expansion-panel-header>
        <app-recommended-actions
          [recomendedActions]="fixableFilter(recomendedActions)"
          (changeRecommendedActions)="changeCheckbox($event, 'fixable')"
        ></app-recommended-actions>
      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title> {{ 'Anomalías no reparables' | translate }} </mat-panel-title>
          <mat-panel-description>{{ 207 }}</mat-panel-description>
        </mat-expansion-panel-header>
        <div class="panel-content">
          <app-recommended-actions
            [recomendedActions]="unfixableFilter(recomendedActions)"
            (changeRecommendedActions)="changeCheckbox($event, 'unfixable')"
          ></app-recommended-actions>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
    <button
      class="btn"
      mat-flat-button
      color="primary"
      (click)="navigateToMapFiltered()"
      [disabled]="!anyCheckboxSelected"
    >
      <div class="btn-content">
        <mat-icon>map</mat-icon>
        <span>{{ 'Ver seleccionadas en el mapa' | translate }}</span>
      </div>
    </button>
    <button class="btn" mat-flat-button color="primary" (click)="openDialog()" [disabled]="!anyCheckboxSelected">
      <div class="btn-content">
        <mat-icon>share</mat-icon>
        <span>{{ 'Compartir informe seleccionadas' | translate }}</span>
      </div>
    </button>
  </mat-card-content>
</mat-card>
