<mat-sidenav-container class="main-container" [hasBackdrop]="false">
  <mat-sidenav
    *ngIf="!sharedReport"
    #sidenavLeft
    [(opened)]="leftOpened"
    class="left-sidenav"
    [fixedInViewport]="true"
    position="start"
    disableClose
  >
    <button mat-icon-button class="btn-close" (click)="sidenavLeft.toggle()">
      <mat-icon>close</mat-icon>
    </button>
    <div class="titulo">
      <h4>Filtros</h4>
    </div>
    <app-filters-panel></app-filters-panel>
  </mat-sidenav>

  <mat-sidenav
    #sidenavRight
    [(opened)]="rightOpened"
    class="right-sidenav"
    [fixedInViewport]="true"
    position="end"
    disableClose
  >
    <button mat-icon-button class="btn-close" (click)="sidenavRight.toggle()">
      <mat-icon>close</mat-icon>
    </button>
    <div class="titulo">
      <h4>Listado de anomal√≠as</h4>
    </div>
    <app-seguidores-list></app-seguidores-list>
  </mat-sidenav>

  <mat-sidenav
    *ngIf="!sharedReport"
    #sidenavStats
    [(opened)]="statsOpened"
    class="stats-sidenav"
    [fixedInViewport]="true"
    position="end"
    disableClose
  >
    <button mat-icon-button class="btn-close" (click)="sidenavStats.toggle()">
      <mat-icon>close</mat-icon>
    </button>
    <app-planta-stats></app-planta-stats>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="rel">
      <app-map-seguidores></app-map-seguidores>

      <div *ngIf="seguidoresLoaded$ | async">
        <app-view-toggle></app-view-toggle>
        <app-share-map *ngIf="!sharedReport"></app-share-map>
        <app-download-report></app-download-report>
        <app-barra-resumen-planta></app-barra-resumen-planta>
        <div class="map-sliders">
          <app-slider-temporal *ngIf="!sharedReport"></app-slider-temporal>
        </div>
      </div>
    </div>

    <div *ngIf="seguidoresLoaded">
      <button
        *ngIf="!sharedReport"
        mat-icon-button
        class="btn-left"
        (click)="sidenavLeft.toggle()"
        [class.mat-elevation-z2]="true"
      >
        <!-- <mat-icon *ngIf="!leftOpened">keyboard_arrow_right</mat-icon> -->
        <!-- <mat-icon *ngIf="leftOpened">keyboard_arrow_left</mat-icon> -->
        <mat-icon>filter_alt</mat-icon>
      </button>
      <button mat-icon-button class="btn-right" (click)="sidenavRight.toggle()" [class.mat-elevation-z2]="true">
        <mat-icon>list_alt</mat-icon>
        <!-- <mat-icon *ngIf="!rightOpened">keyboard_arrow_left</mat-icon>
          <mat-icon *ngIf="rightOpened">keyboard_arrow_right</mat-icon> -->
      </button>
      <button
        *ngIf="!sharedReport"
        mat-icon-button
        class="btn-right-stats"
        (click)="sidenavStats.toggle()"
        [class.mat-elevation-z2]="true"
      >
        <mat-icon>query_stats</mat-icon>
        <!-- <mat-icon *ngIf="!statsOpened">keyboard_arrow_left</mat-icon>
          <mat-icon *ngIf="statsOpened">keyboard_arrow_right</mat-icon> -->
      </button>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
