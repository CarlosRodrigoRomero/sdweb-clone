<div *ngIf="false" class="row">
  <div class="col text-center">
    <mat-button-toggle-group
      [(ngModel)]="tipoInforme"
      name="tipoInforme"
      aria-label="tipo informe"
    >
      <mat-button-toggle
        (click)="onClickTipoInforme()"
        checked="tipoInforme === '1'"
        value="1"
        >Tipo 1</mat-button-toggle
      >
      <mat-button-toggle
        (click)="onClickTipoInforme()"
        checked="tipoInforme === '2'"
        value="2"
        >Tipo 2</mat-button-toggle
      >
    </mat-button-toggle-group>
  </div>
</div>

<mat-card class="col-columnas">
  <mat-card-content>
    <h3 class="text-center">Columnas en el informe</h3>
    <hr />
    <div class="columna-group">
      <mat-checkbox
        class="columna-check"
        *ngFor="let col of pcColumnas"
        [checked]="true"
        (change)="onCheckBoxColumnaChange($event)"
        value="{{ col.nombre }}"
      >
        <span class="columnas-text">{{ col.descripcion }} </span>
      </mat-checkbox>
    </div>

    <div *ngIf="generandoPDF; else boton">
      <app-spinner></app-spinner>
      <div class="text-center">
        <p>Generando PDF ... {{ progresoPDF }} % ...</p>
      </div>
    </div>
    <ng-template #boton>
      <div class="row">
        <div class="col text-center ">
          <button mat-flat-button color="primary" (click)="downloadPDF()">
            Generar PDF
          </button>
        </div>
      </div>
    </ng-template>
  </mat-card-content>
</mat-card>

<!-- <div class="row">
    <div class="col">
        <h2>Vista previa</h2>


    </div>
</div> -->

<div
  style="left: 20px; top: 50px; bottom: 0; overflow: auto; width: 600px"
  id="vistaPrevia"
></div>

<canvas style="display:none" id="portadaImg" width="600" height="300"></canvas>
<canvas
  style="display:none"
  id="irradianciaImg"
  width="400"
  height="250"
></canvas>
<canvas style="display:none" id="imgSuciedad" width="500" height="250"></canvas>

<canvas style="display:none" id="imgCurvaMae" width="450" height="410"></canvas>
<!-- <canvas style="display:none" id="imgLogo" width="300"></canvas> -->
<canvas
  style="display:none"
  id="imgFormulaMae"
  width="350"
  height="150"
></canvas>

<div style="display:none" [ngSwitch]="tipoInforme">
  <ng-container *ngFor="let seguidor of (filteredSeguidores$ | async)">
    <div class="hiddenCanvas">
      <canvas
        id="imgSeguidorCanvas{{ seguidor.global_x }}"
        width="640"
        height="512"
      >
      </canvas>
    </div>
  </ng-container>
</div>

<ng-container *ngFor="let seguidor of filteredSeguidoresVistaPrevia">
  <div class="row">
    <div class="col">
      <div class="hiddenCanvas">
        <canvas
          id="imgSeguidorCanvasVP{{ seguidor.global_x }}"
          width="640"
          height="512"
        >
        </canvas>
      </div>
      <div class="img-seguidor" id="divSeguidorVP{{ seguidor.global_x }}"></div>
    </div>
  </div>
</ng-container>
