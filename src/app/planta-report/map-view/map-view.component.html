<app-share-map></app-share-map>
<app-download-report></app-download-report>
<app-barra-resumen-planta></app-barra-resumen-planta>
<mat-sidenav-container class="example-container" [hasBackdrop]="false">
  <mat-sidenav
    #sidenavLeft
    [(opened)]="leftOpened"
    class="left-sidenav"
    [fixedInViewport]="true"
    [fixedTopGap]="195"
    position="start"
    disableClose
  >
    <div class="titulo">
      <h4>Filtros</h4>
    </div>
    <app-filters-panel *ngIf="anomaliasLoaded"></app-filters-panel>
    <button mat-raised-button (click)="drawArea()">Crear área</button>
  </mat-sidenav>

  <mat-sidenav
    #sidenavRight
    [(opened)]="rightOpened"
    class="right-sidenav"
    [fixedInViewport]="true"
    [fixedTopGap]="185"
    position="end"
    disableClose
  >
    <div class="titulo">
      <h4>Listado de anomalías</h4>
    </div>

    <app-filter-pcs-list></app-filter-pcs-list>
  </mat-sidenav>

  <mat-sidenav
    #sidenavStats
    [(opened)]="statsOpened"
    class="stats-sidenav"
    [fixedInViewport]="true"
    [fixedTopGap]="140"
    position="end"
    disableClose
  >
    <app-planta-stats></app-planta-stats>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="rel">
      <div id="map" class="map"></div>
      <div *ngIf="anomaliaSeleccionada" id="popup">
        <app-anomalia-info [anomalia]="anomaliaSeleccionada"></app-anomalia-info>
      </div>

      <app-map-control id="map-control"></app-map-control>
    </div>

    <button mat-raised-button class="btn-left" (click)="sidenavLeft.toggle()">
      <mat-icon *ngIf="!leftOpened">keyboard_arrow_right</mat-icon>
      <mat-icon *ngIf="leftOpened">keyboard_arrow_left</mat-icon>
      <mat-icon>filter_alt</mat-icon>
    </button>
    <button mat-raised-button class="btn-right" (click)="sidenavRight.toggle()">
      <mat-icon>list_alt</mat-icon>
      <mat-icon *ngIf="!rightOpened">keyboard_arrow_left</mat-icon>
      <mat-icon *ngIf="rightOpened">keyboard_arrow_right</mat-icon>
    </button>
    <button mat-raised-button class="btn-right-stats" (click)="sidenavStats.toggle()">
      <mat-icon>query_stats</mat-icon>
      <mat-icon *ngIf="!statsOpened">keyboard_arrow_left</mat-icon>
      <mat-icon *ngIf="statsOpened">keyboard_arrow_right</mat-icon>
    </button>
  </mat-sidenav-content>
</mat-sidenav-container>
