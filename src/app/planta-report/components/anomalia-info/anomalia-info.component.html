<div class="popup" *ngIf="anomaliaSelect || anomaliaHover">
  <table mat-table *ngIf="dataSource" [dataSource]="dataSource" class="mat-elevation-z8">
    <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->
    <ng-container matColumnDef="clase">
      <th mat-header-cell *matHeaderCellDef>Clase</th>
      <div>
        <td mat-cell *matCellDef="let element">{{ element.clase }}</td>
      </div>
    </ng-container>
    <ng-container matColumnDef="tipo">
      <th mat-header-cell *matHeaderCellDef>Tipo</th>
      <div class="header">
        <td mat-cell *matCellDef="let element">{{ pcDescripcion[element.tipo] }}</td>
      </div>
    </ng-container>
    <ng-container matColumnDef="tempMax">
      <th mat-header-cell *matHeaderCellDef>T. Max</th>
      <div>
        <td mat-cell *matCellDef="let element">{{ element.temperaturaMax }} ºC</td>
      </div>
    </ng-container>
    <ng-container matColumnDef="gradienteNormalizado">
      <th mat-header-cell *matHeaderCellDef>&Delta; T</th>
      <div>
        <td mat-cell *matCellDef="let element">{{ element.gradienteNormalizado }} ºC</td>
      </div>
    </ng-container>

    <ng-container matColumnDef="perdidas">
      <th mat-header-cell *matHeaderCellDef>Pérdidas (%)</th>
      <div>
        <td mat-cell *matCellDef="let element">{{ element.perdidas * 100 }} %</td>
      </div>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <div *ngIf="infoAdicional">
    <a class="btn-info" [matMenuTriggerFor]="menu">
      <mat-icon>info</mat-icon>
    </a>
    <mat-menu #menu="matMenu" class="menu">
      <div class="menu-content">
        <div class="elemento">
          <h5>Información adicional</h5>
        </div>
        <div class="elemento">
          <!-- <mat-icon color="secondary">wb_sunny</mat-icon> -->
          <span class="titulo">ID</span>
          <span class="subtitulo">{{ infoAdicional.id }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Fecha</span>
          <span class="subtitulo">{{ infoAdicional.fecha }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Hora</span>
          <span class="subtitulo">{{ infoAdicional.hora }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Planta</span>
          <span class="subtitulo">{{ infoAdicional.planta }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Marca módulo</span>
          <span class="subtitulo">{{ infoAdicional.marcaModulo }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Modelo módulo</span>
          <span class="subtitulo">{{ infoAdicional.modeloModulo }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Tipo de panel</span>
          <span class="subtitulo">{{ infoAdicional.tipoPanelModulo }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Potencia</span>
          <span class="subtitulo">{{ infoAdicional.potencia }} W</span>
        </div>
        <div class="elemento">
          <span class="titulo">Instalación</span>
          <span class="subtitulo">{{ infoAdicional.instalacion }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Calle</span>
          <span class="subtitulo">{{ infoAdicional.calle }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Mesa</span>
          <span class="subtitulo">{{ infoAdicional.mesa }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Fila</span>
          <span class="subtitulo">{{ infoAdicional.fila }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Columna</span>
          <span class="subtitulo">{{ infoAdicional.columna }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Temperatura media</span>
          <span class="subtitulo">{{ infoAdicional.tempMedia }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Gradiente</span>
          <span class="subtitulo">{{ infoAdicional.gradiente }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Relevancia</span>
          <span class="subtitulo">{{ infoAdicional.irradiancia }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Imagen Térmica</span>
          <span class="subtitulo">{{ infoAdicional.urlImagenIR }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Imagen RGB</span>
          <span class="subtitulo">{{ infoAdicional.urlImagenRGB }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Nubosidad</span>
          <span class="subtitulo">{{ infoAdicional.nubosidad }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Emisividad</span>
          <span class="subtitulo">{{ infoAdicional.emisividad }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Temperatura reflejada</span>
          <span class="subtitulo">{{ infoAdicional.tempReflejada }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Viento</span>
          <span class="subtitulo">{{ infoAdicional.viento }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Camara</span>
          <span class="subtitulo">{{ infoAdicional.camaraNombre }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">S/N Cámara</span>
          <span class="subtitulo">{{ infoAdicional.camaraSN }}</span>
        </div>
        <div class="elemento">
          <span class="titulo">Lente cámara</span>
          <span class="subtitulo">{{ infoAdicional.camaraLente }}</span>
        </div>
      </div>
    </mat-menu>
  </div>
</div>
