<ng-template #loading>
  <div class="cargando text-center">
    <app-spinner></app-spinner>
  </div>
</ng-template>

<div *ngIf="isLoaded1 && isLoaded2 && isLoaded3; else loading">
  <app-share-map></app-share-map>

  <mat-sidenav-container class="example-container" [hasBackdrop]="false">
    <mat-sidenav
      #sidenavLeft
      [(opened)]="leftOpened"
      class="left-sidenav"
      [fixedInViewport]="true"
      [fixedTopGap]="192"
      position="start"
      disableClose
    >
      <div class="titulo">
        <h4 align="center" position="fixed">Filtros</h4>
      </div>
      <app-filters-panel></app-filters-panel>
    </mat-sidenav>

    <mat-sidenav
      #sidenavRight
      [(opened)]="rightOpened"
      class="right-sidenav"
      [fixedInViewport]="true"
      [fixedTopGap]="192"
      position="end"
      disableClose
    >
      <div class="titulo">
        <h3 align="center">Listado de anomal√≠as</h3>
      </div>

      <app-filter-pcs-list></app-filter-pcs-list>
    </mat-sidenav>

    <mat-sidenav-content>
      <app-map-filter></app-map-filter>

      <button mat-raised-button class="btn-left" (click)="sidenavLeft.toggle()">
        <mat-icon *ngIf="!leftOpened">keyboard_arrow_right</mat-icon>
        <mat-icon *ngIf="leftOpened">keyboard_arrow_left</mat-icon>
        <mat-icon>filter_alt</mat-icon>
      </button>
      <button mat-raised-button class="btn-right" (click)="sidenavRight.toggle()">
        <mat-icon>list_alt</mat-icon>
        <mat-icon *ngIf="!rightOpened">keyboard_arrow_left</mat-icon>
        <mat-icon *ngIf="rightOpened">keyboard_arrow_right</mat-icon>
      </button>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
